# WeatherForecastAPI
Небольшое REST API для проверки погодных условий в различных городах



## Запуск проекта:


Клонируем репозиторий:
```sh
git clone https://github.com/V1Ro-Dev/WeatherForecastAPI
```

Переходим в папку с проектом (далее приводятся команды в bash-терминале на машине под win):
```
cd WeatherForecastAPI 
```

Устанавливаем виртуальное окружение:
```
python -m venv venv
```

Устанавливаем в виртуальном окружении зависимости для проекта:
```
pip install -r requirements.txt
```
Перейдем в директорию проекта:
```
cd weather_forecast
```

Запускаем локальный сервер:
```
python manage.py runserver
```

## Добавление API ключей:

В файле config.py можно заменить API ключи для Яндекс погоды и OpenWeatherMap. Получить их бесплатно можно, обратившись к соответствующим сервисам

## Как обращаться к API:

### Существует эндпоинт:
```
url = http://127.0.0.1:8000/api/check-condition/
```
### Необходимо выполнить запрос с обязательным параметром
```
'data' и json'ом вида: 
params = [
    {
        'city': 'Москва',
        'events': [
            'Sleet',
            'Snow',
            'Rain'
        ]
    },
    ...
]
```

### Таким образом ваш get-запрос на Python будет выглядеть следующим образом:
```
requests.get(url, params={'data': params})
```

### Ответ:(в ответе будет город и явления, которые будут наблюдаться завтра, однако если в городе не будет явлений, перечисленных в "events", dict(map) с этим городом не будет добавлен в конечный список:
```
[
    {
        'city': 'Москва',
        'events': [
            'Rain'
        ]
    },
    ...
]
```